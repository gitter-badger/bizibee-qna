<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a="http://aripd.com/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/template_landing.xhtml">
    <ui:define name="head">
        <style type="text/css">
            .ui-steps .ui-steps-item {
                width: calc(100% / #{simulationView.menuModelByGroups.elements.size()});
                /*width: calc(100% / #{simulationView.menuModelByQuestions.elements.size()});*/
                line-height: 75px;
                text-align: center;
            }
            .ui-steps .ui-steps-item .ui-menuitem-link .ui-steps-number {
                display: none;
            }
            .ui-steps .ui-steps-item .ui-menuitem-link .ui-steps-title {
                white-space: initial;
                display: inline-block;
                vertical-align: middle;
                line-height: normal;
            }
        </style>
    </ui:define>
    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="uuid" value="#{simulationView.uuid}"/>
            <f:event type="preRenderView" listener="#{simulationView.onLoad}"/>
        </f:metadata>

        <div id="features">
            <div class="features-content">
                <!--<h1 class="feature-title">#{i18n['Simulation']}</h1>-->
                <h:panelGrid columns="2" columnClasses="ui-g-3,ui-g-9" rendered="false">
                    <a:identicon text="#{dashboardView.selectedUser.email}" style="width: 100%;" alt="#{dashboardView.selectedUser.name}" title="#{dashboardView.selectedUser.name}" rendered="#{empty dashboardView.selectedUser.bytes}"/>
                    <o:graphicImage value="#{dashboardView.selectedUser.bytes}" dataURI="true" style="width: 100%;" alt="#{dashboardView.selectedUser.name}" title="#{dashboardView.selectedUser.name}" rendered="#{not empty dashboardView.selectedUser.bytes}"/>
                    <h2>#{dashboardView.selectedUser.name}</h2>
                </h:panelGrid>

                <div class="ui-g dashboard">
                    <h:panelGroup styleClass="ui-g-12 ui-md-12" rendered="#{simulationView.selectedRecord.kind eq 'SIMULATION'}">
                        <p:steps activeIndex="#{simulationView.groups.indexOf(simulationView.selectedRecord.group)}" readonly="true" model="#{simulationView.menuModelByGroups}" rendered="true" />
                        <p:steps activeIndex="#{simulationView.sequence}" readonly="true" model="#{simulationView.menuModelByQuestions}" rendered="false" />
                        <p:dataGrid value="#{simulationView.groups}" var="group" columns="#{simulationView.groups.size()}" rendered="false">
                            <p:link outcome="/player/simulation">
                                <f:param name="uuid" value="#{group.question.uuid}" />
                                <i class="fa fa-check-square-o"></i>
                                <h:outputText value="#{group.name}" style="font-weight:#{simulationView.selectedRecord.group.equals(group)?'bold':'normal'};" />
                            </p:link>
                        </p:dataGrid>
                    </h:panelGroup>
                    <h:panelGroup layout="block" styleClass="ui-g-3" rendered="false">
                        <p:dataList id="panel1" value="#{simulationView.groups}" var="group" varStatus="varStatus" type="ordered">
                            <f:facet name="header">#{i18n['Groups']}</f:facet>
                            <h:outputText value="#{group.name}" style=" font-weight: #{simulationView.selectedRecord.group.equals(group)?'bold':'normal'};" />
                        </p:dataList>
                        <p:sticky target="panel1" margin="90" />

                        <p:dataList id="panel2" value="#{simulationView.menuModelByQuestions.elements}" var="element" varStatus="varStatus" type="ordered">
                            <f:facet name="header">#{i18n['Steps']}</f:facet>
                            <h:outputText value="#{element.value}" style=" font-weight: #{simulationView.sequence.equals(varStatus.index)?'bold':'normal'};" />
                        </p:dataList>
                        <p:sticky target="panel2" margin="90" />
                    </h:panelGroup>
                    <h:panelGroup layout="block" styleClass="ui-g-8">
                        <h2><h:outputText value="#{simulationView.selectedRecord.name}" /></h2>
                        <h3><h:outputText value="#{simulationView.selectedRecord.description}" /></h3>
                        <p><h:outputText value="#{simulationView.selectedRecord.remark}" /></p>
                        <o:graphicImage value="#{simulationView.selectedRecord.bytes}" dataURI="true" width="100%" rendered="#{not empty simulationView.selectedRecord.bytes}"/>

                        <h:form rendered="#{simulationView.selectedRecord.type eq 'SINGLE_CHOICE'}">
                            <p:selectOneRadio value="#{simulationView.model1.answer}" 
                                              label="#{simulationView.selectedRecord.name}" 
                                              required="#{simulationView.selectedRecord.required}" 
                                              disabled="#{simulationView.disabled}"
                                              layout="pageDirection" columns="1"
                                              converter="#{answerConverter}">
                                <f:selectItems value="#{simulationView.selectedRecord.answers}" var="answer" itemValue="#{answer}" itemLabel="#{answer.name}"/>
                            </p:selectOneRadio>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check">
                                <p:confirm header="#{simulationView.selectedRecord.confirmHeader}" message="#{simulationView.selectedRecord.confirmMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form rendered="#{simulationView.selectedRecord.type eq 'MULTIPLE_CHOICE'}">
                            <p:selectManyCheckbox value="#{simulationView.model2.answers}" 
                                                  label="#{simulationView.selectedRecord.name}" 
                                                  required="#{simulationView.selectedRecord.required}" 
                                                  disabled="#{simulationView.disabled}"
                                                  layout="pageDirection" columns="1"
                                                  converter="#{answerConverter}">
                                <f:selectItems value="#{simulationView.selectedRecord.answers}" var="answer" itemValue="#{answer}" itemLabel="#{answer.name}"/>
                            </p:selectManyCheckbox>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check">
                                <p:confirm header="#{simulationView.selectedRecord.confirmHeader}" message="#{simulationView.selectedRecord.confirmMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form rendered="#{simulationView.selectedRecord.type eq 'RANGE_CHOICE'}">
                            <p:repeat var="model" value="#{simulationView.model5}">
                                <h:panelGrid columns="2">
                                    <p:spinner value="#{model.value}" 
                                               label="#{simulationView.selectedRecord.name}" 
                                               required="#{simulationView.selectedRecord.required}" 
                                               disabled="#{simulationView.disabled}"
                                               min="#{model.answer.coefIndexMin}" 
                                               max="#{model.answer.coefIndexMax}" 
                                               size="#{model.answer.inputSize}"
                                               stepFactor="#{model.answer.coefIndexStep}"
                                               converter="javax.faces.Integer"/>
                                    <h:outputText value="#{model.answer.name}" />
                                </h:panelGrid>
                            </p:repeat>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check">
                                <p:confirm header="#{simulationView.selectedRecord.confirmHeader}" message="#{simulationView.selectedRecord.confirmMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form rendered="#{simulationView.selectedRecord.type eq 'PLANOGRAM1'}">
                            <p:repeat var="model" value="#{simulationView.model5}">
                                <h:panelGrid columns="3">
                                    <p:inputText value="#{model.value}" 
                                                 label="#{simulationView.selectedRecord.name}" 
                                                 required="#{simulationView.selectedRecord.required}" 
                                                 disabled="#{simulationView.disabled}"
                                                 size="#{model.answer.inputSize}"
                                                 converter="javax.faces.Integer"/>
                                    <h:panelGroup>
                                        <a:identicon text="#{model.answer.id}" width="30" height="30" alt="#{model.answer.name}" title="#{model.answer.name}" rendered="#{empty model.answer.bytes}"/>
                                        <o:graphicImage value="#{model.answer.bytes}" dataURI="true" width="30" height="30" alt="#{model.answer.name}" title="#{model.answer.name}" rendered="#{not empty model.answer.bytes}"/>
                                    </h:panelGroup>
                                    <h:outputText value="#{model.answer.name}"/>
                                </h:panelGrid>
                            </p:repeat>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check">
                                <p:confirm header="#{simulationView.selectedRecord.confirmHeader}" message="#{simulationView.selectedRecord.confirmMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form id="planogram2Form" rendered="#{simulationView.selectedRecord.type eq 'PLANOGRAM2'}">
                            <h:panelGroup id="planogramPanel">
                                <p:panelGrid columns="12" styleClass="ui-g-12" style="text-align:center;" rendered="#{simulationView.disabled}">
                                    <!--                                    <c:forEach var="i" begin="1" end="60">
                                                                            <p:column>
                                                                                <a:identicon text="#{simulationView.slotToAnswer(i).id}" width="30" height="30" alt="#{simulationView.slotToAnswer(i).name}" title="#{simulationView.slotToAnswer(i).name}" rendered="#{empty simulationView.slotToAnswer(i).bytes}"/>
                                                                                <o:graphicImage value="#{simulationView.slotToAnswer(i).bytes}" dataURI="true" width="30" height="30" alt="#{simulationView.slotToAnswer(i).name}" title="#{simulationView.slotToAnswer(i).name}" rendered="#{not empty simulationView.slotToAnswer(i).bytes}"/>
                                                                            </p:column>
                                                                        </c:forEach>-->
                                    <p:column><p:graphicImage name="/files/sku24.png" width="30" height="30" alt="200 ml Dandruff Shampoo" title="200 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku28.png" width="30" height="30" alt="200 ml Care Shampoo" title="200 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku28.png" width="30" height="30" alt="200 ml Care Shampoo" title="200 ml Care Shampoo" /></p:column>
                                    <p:column>
                                        <!--<o:graphicImage value="#{simulationView.slotToAnswer(1).bytes}" dataURI="true" width="30" height="30" alt="#{simulationView.slotToAnswer(1).name}" title="#{simulationView.slotToAnswer(1).name}" rendered="#{not empty simulationView.slotToAnswer(1).bytes}"/>-->
                                        <p:graphicImage name="/files/#{simulationView.slotToAnswer(1).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(1).name}" title="#{simulationView.slotToAnswer(1).name}" rendered="true" />
                                    </p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(2).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(2).name}" title="#{simulationView.slotToAnswer(2).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku38.png" width="30" height="30" alt="400 ml Beauty Shampoo" title="400 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku41.png" width="30" height="30" alt="400 ml Anti Oil Shampoo" title="400 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(3).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(3).name}" title="#{simulationView.slotToAnswer(3).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku32.png" width="30" height="30" alt="250 ml Care Shampoo" title="250 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku35.png" width="30" height="30" alt="250 ml Anti Hair Loss Shampoo" title="250 ml Anti Hair Loss Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(4).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(4).name}" title="#{simulationView.slotToAnswer(4).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(5).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(5).name}" title="#{simulationView.slotToAnswer(5).name}" /></p:column>

                                    <p:column><p:graphicImage name="/files/sku25.png" width="30" height="30" alt="400 ml Dandruff Shampoo" title="400 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku29.png" width="30" height="30" alt="350 ml Care Shampoo" title="350 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku29.png" width="30" height="30" alt="350 ml Care Shampoo" title="350 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(6).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(6).name}" title="#{simulationView.slotToAnswer(6).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(7).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(7).name}" title="#{simulationView.slotToAnswer(7).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku38.png" width="30" height="30" alt="400 ml Beauty Shampoo" title="400 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku41.png" width="30" height="30" alt="400 ml Anti Oil Shampoo" title="400 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(8).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(8).name}" title="#{simulationView.slotToAnswer(8).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(9).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(9).name}" title="#{simulationView.slotToAnswer(9).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(10).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(10).name}" title="#{simulationView.slotToAnswer(10).name}" /></p:column>

                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku26.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(11).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(11).name}" title="#{simulationView.slotToAnswer(11).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(12).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(12).name}" title="#{simulationView.slotToAnswer(12).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku36.png" width="30" height="30" alt="600 ml Beauty Shampoo" title="600 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku39.png" width="30" height="30" alt="600 ml Anti Oil Shampoo" title="600 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(13).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(13).name}" title="#{simulationView.slotToAnswer(13).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(14).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(14).name}" title="#{simulationView.slotToAnswer(14).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(15).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(15).name}" title="#{simulationView.slotToAnswer(15).name}" /></p:column>

                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku26.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(16).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(16).name}" title="#{simulationView.slotToAnswer(16).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(17).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(17).name}" title="#{simulationView.slotToAnswer(17).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku36.png" width="30" height="30" alt="600 ml Beauty Shampoo" title="600 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku39.png" width="30" height="30" alt="600 ml Anti Oil Shampoo" title="600 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(18).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(18).name}" title="#{simulationView.slotToAnswer(18).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku30.png" width="30" height="30" alt="900 ml Care Shampoo" title="900 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku34.png" width="30" height="30" alt="900 ml Anti Hair Loss Shampoo" title="900 ml Anti Hair Loss Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(19).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(19).name}" title="#{simulationView.slotToAnswer(19).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(20).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(20).name}" title="#{simulationView.slotToAnswer(20).name}" /></p:column>

                                    <p:column><p:graphicImage name="/files/sku23.png" width="30" height="30" alt="600ml+200ml Dandruff+Care Shampoo Copack" title="600ml+200ml Dandruff+Care Shampoo Copack" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku23.png" width="30" height="30" alt="600ml+200ml Dandruff+Care Shampoo Copack" title="600ml+200ml Dandruff+Care Shampoo Copack" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku27.png" width="30" height="30" alt="600 ml + 200ml Care + Dandruff Shampoo Copack" title="600 ml + 200ml Care + Dandruff Shampoo Copack" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(21).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(21).name}" title="#{simulationView.slotToAnswer(21).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(22).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(22).name}" title="#{simulationView.slotToAnswer(22).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku37.png" width="30" height="30" alt="600ml+200ml Beauty + yağlanma karşıtı" title="600ml+200ml Beauty + yağlanma karşıtı" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku40.png" width="30" height="30" alt="600 ml + 200ml Anti Oil + Beauty Shampoo" title="600 ml + 200ml Anti Oil + Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(23).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(23).name}" title="#{simulationView.slotToAnswer(23).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(24).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(24).name}" title="#{simulationView.slotToAnswer(24).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku31.png" width="30" height="30" alt="250 ml Care Shampoo" title="250 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(25).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(25).name}" title="#{simulationView.slotToAnswer(25).name}" /></p:column>
                                    <p:column><p:graphicImage name="/files/#{simulationView.slotToAnswer(26).image}" width="30" height="30" alt="#{simulationView.slotToAnswer(26).name}" title="#{simulationView.slotToAnswer(26).name}" /></p:column>
                                </p:panelGrid>

                                <p:panelGrid columns="12" styleClass="ui-g-12" style="text-align:center;" rendered="#{!simulationView.disabled}">
                                    <!--                                    <c:forEach var="i" begin="1" end="65">
                                                                            <p:column><span id="item${i}">${i}</span></p:column>
                                                                        </c:forEach>-->
                                    <p:column><p:graphicImage name="/files/sku24.png" width="30" height="30" alt="200 ml Dandruff Shampoo" title="200 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku28.png" width="30" height="30" alt="200 ml Care Shampoo" title="200 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku28.png" width="30" height="30" alt="200 ml Care Shampoo" title="200 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item1">1</span></p:column>
                                    <p:column><span id="item2">2</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku38.png" width="30" height="30" alt="400 ml Beauty Shampoo" title="400 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku41.png" width="30" height="30" alt="400 ml Anti Oil Shampoo" title="400 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><span id="item3">3</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku32.png" width="30" height="30" alt="250 ml Care Shampoo" title="250 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku35.png" width="30" height="30" alt="250 ml Anti Hair Loss Shampoo" title="250 ml Anti Hair Loss Shampoo" /></p:column>
                                    <p:column><span id="item4">4</span></p:column>
                                    <p:column><span id="item5">5</span></p:column>

                                    <p:column><p:graphicImage name="/files/sku25.png" width="30" height="30" alt="400 ml Dandruff Shampoo" title="400 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku29.png" width="30" height="30" alt="350 ml Care Shampoo" title="350 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku29.png" width="30" height="30" alt="350 ml Care Shampoo" title="350 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item6">6</span></p:column>
                                    <p:column><span id="item7">7</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku38.png" width="30" height="30" alt="400 ml Beauty Shampoo" title="400 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku41.png" width="30" height="30" alt="400 ml Anti Oil Shampoo" title="400 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><span id="item8">8</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item9">9</span></p:column>
                                    <p:column><span id="item10">10</span></p:column>

                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku26.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item11">11</span></p:column>
                                    <p:column><span id="item12">12</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku36.png" width="30" height="30" alt="600 ml Beauty Shampoo" title="600 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku39.png" width="30" height="30" alt="600 ml Anti Oil Shampoo" title="600 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><span id="item13">13</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku33.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item14">14</span></p:column>
                                    <p:column><span id="item15">15</span></p:column>

                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku22.png" width="30" height="30" alt="600 ml Dandruff Shampoo" title="600 ml Dandruff Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku26.png" width="30" height="30" alt="600 ml Care Shampoo" title="600 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item16">16</span></p:column>
                                    <p:column><span id="item17">17</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku36.png" width="30" height="30" alt="600 ml Beauty Shampoo" title="600 ml Beauty Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku39.png" width="30" height="30" alt="600 ml Anti Oil Shampoo" title="600 ml Anti Oil Shampoo" /></p:column>
                                    <p:column><span id="item18">18</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku30.png" width="30" height="30" alt="900 ml Care Shampoo" title="900 ml Care Shampoo" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku34.png" width="30" height="30" alt="900 ml Anti Hair Loss Shampoo" title="900 ml Anti Hair Loss Shampoo" /></p:column>
                                    <p:column><span id="item19">19</span></p:column>
                                    <p:column><span id="item20">20</span></p:column>

                                    <p:column><p:graphicImage name="/files/sku23.png" width="30" height="30" alt="600ml+200ml Dandruff+Care Shampoo Copack" title="600ml+200ml Dandruff+Care Shampoo Copack" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku23.png" width="30" height="30" alt="600ml+200ml Dandruff+Care Shampoo Copack" title="600ml+200ml Dandruff+Care Shampoo Copack" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku27.png" width="30" height="30" alt="600 ml + 200ml Care + Dandruff Shampoo Copack" title="600 ml + 200ml Care + Dandruff Shampoo Copack" /></p:column>
                                    <p:column><span id="item21">21</span></p:column>
                                    <p:column><span id="item22">22</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku37.png" width="30" height="30" alt="600ml+200ml Beauty + yağlanma karşıtı" title="600ml+200ml Beauty + yağlanma karşıtı" /></p:column>
                                    <p:column><p:graphicImage name="/files/sku40.png" width="30" height="30" alt="600 ml + 200ml Anti Oil + Beauty Shampoo" title="600 ml + 200ml Anti Oil + Beauty Shampoo" /></p:column>
                                    <p:column><span id="item23">23</span></p:column>
                                    <p:column><span id="item24">24</span></p:column>
                                    <p:column><p:graphicImage name="/files/sku31.png" width="30" height="30" alt="250 ml Care Shampoo" title="250 ml Care Shampoo" /></p:column>
                                    <p:column><span id="item25">25</span></p:column>
                                    <p:column><span id="item26">26</span></p:column>
                                </p:panelGrid>
                            </h:panelGroup>
                            <p:sticky target="planogramPanel" margin="90" />

                            <p:repeat var="model" value="#{simulationView.model5}" varStatus="varStatus">
                                <h:panelGrid columns="3">
<!--                                    <p:spinner value="#{model.value}" 
                                               label="#{simulationView.selectedRecord.name}" 
                                               required="#{simulationView.selectedRecord.required}" 
                                               disabled="#{simulationView.disabled}"
                                               min="#{model.answer.coefIndexMin}" 
                                               max="#{model.answer.coefIndexMax}"
                                               size="#{model.answer.inputSize}"
                                               stepFactor="#{model.answer.coefIndexStep}"
                                               onblur="planogram(this, #{model.answer.id})" 
                                               converter="javax.faces.Integer"/>-->
                                    <p:inputNumber value="#{model.value}" 
                                                   label="#{simulationView.selectedRecord.name}" 
                                                   required="#{simulationView.selectedRecord.required}" 
                                                   disabled="#{simulationView.disabled}"
                                                   minValue="#{model.answer.coefIndexMin}" 
                                                   maxValue="#{model.answer.coefIndexMax}"
                                                   size="#{model.answer.inputSize}"
                                                   onblur="planogram(this, #{model.answer.id})" 
                                                   converter="javax.faces.Integer"/>
                                    <h:panelGroup>
<!--                                        <a:identicon text="#{model.answer.id}" width="30" height="30" alt="#{model.answer.name}" title="#{model.answer.name}" rendered="#{empty model.answer.bytes}"/>
                                        <o:graphicImage value="#{model.answer.bytes}" dataURI="true" width="30" height="30" alt="#{model.answer.name}" title="#{model.answer.name}" rendered="#{not empty model.answer.bytes}"/>-->
                                        <p:graphicImage name="/files/#{model.answer.image}" width="30" height="30" alt="#{model.answer.name}" title="#{model.answer.name}" rendered="true" />
                                    </h:panelGroup>
                                    <h:outputText value="#{model.answer.name}"/>
                                </h:panelGrid>
                            </p:repeat>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check">
                                <p:confirm header="#{simulationView.selectedRecord.confirmHeader}" message="#{simulationView.selectedRecord.confirmMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form enctype="multipart/form-data" rendered="#{simulationView.selectedRecord.type eq 'FILE_UPLOAD'}">
                            <h:panelGrid columns="1">
                                <o:graphicImage value="#{simulationView.model6.bytes}" dataURI="true" style="width: 100%;" rendered="#{not empty simulationView.model6.bytes}"/>
                                <p:fileUpload value="#{simulationView.model6.file}" 
                                              label="#{i18n['Choose']}" 
                                              required="#{simulationView.selectedRecord.required}" 
                                              disabled="#{simulationView.disabled}" 
                                              mode="simple" skinSimple="true" 
                                              validator="uploadImageValidator"/>
                            </h:panelGrid>
                            <p:commandButton value="#{i18n['Submit']}" disabled="#{simulationView.disabled}" update="@form, :growl" actionListener="#{simulationView.doUpdate}" icon="fa fa-check" ajax="false"/>
                            <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                        </h:form>

                        <h:form rendered="#{not empty simulationView.selectedRecord.guide}" style="margin-top: 30px; padding-top: 10px; border-top: 1px solid #a4a4a4;">
                            <div><p:link value="#{i18n['Go to Sales Fundamentals']}" outcome="/player/guide" fragment="fragment_#{simulationView.selectedRecord.guide.id}" target="_blank" styleClass="fa fa-book" /></div>
                        </h:form>
                    </h:panelGroup>
                    <h:panelGroup layout="block" styleClass="ui-g-4" rendered="#{simulationView.selectedRecord.kind eq 'SIMULATION'}">
                        <h:form id="panel">
                            <p:panel>
                                <h:panelGroup rendered="#{empty reportView.getResponses(dashboardView.selectedUser)}">
                                    <ul class="scoreboard">
                                        <li>
                                            <span class="count revenue">
                                                <h:outputText value="#{reportView.simulation.salesStart}">
                                                    <f:convertNumber type="number" />
                                                </h:outputText>
                                            </span>
                                            <h:outputText id="revenue" value="#{i18n['Revenue']}" styleClass="title" />
                                            <p:tooltip for="revenue" position="top" style="width: 300px;" value="Turnover comprises sales of goods and services after deduction of discounts and sales taxes. It does not include sales between group companies. Discounts include rebates, price reductions and incentives given to customers, promotional couponing and trade communication costs. Turnover is recognised when the risks and rewards of the underlying products and services have been substantially transferred to the customer. Revenue from services is recognised as the services are performed. Interest revenue is recognised as interest accrues using the effective interest method." />
                                            <span class="detail"></span>
                                        </li>
                                        <li>
                                            <span class="count budget">
                                                <h:outputText value="#{reportView.simulation.budgetStart}">
                                                    <f:convertNumber type="number" />
                                                </h:outputText>
                                            </span>
                                            <h:outputText id="budget" value="#{i18n['Budget']}" styleClass="title" />
                                            <p:tooltip for="budget" position="top" style="width: 300px;" value="Budget is a quantitative expression of a plan for a defined period of time. It may include planned sales volumes and revenues, resource quantities, costs and expenses, assets, liabilities and cash flows." />
                                            <span class="detail">Restriction on expenditure</span>
                                        </li>
                                        <li>
                                            <span class="count grossmargin">
                                                <h:outputText value="#{reportView.simulation.gmStart}">
                                                    <f:convertNumber type="percent" minFractionDigits="2" />
                                                </h:outputText>
                                            </span>
                                            <h:outputText id="grossmargin" value="#{i18n['GM']}" styleClass="title" />
                                            <p:tooltip for="grossmargin" position="top" style="width: 300px;" value="Gross Margin represents the percent of total sales revenue that the company retains after incurring the direct costs associated with producing the goods and services it sells. The higher the percentage, the more the company retains on each dollar of sales, to service its other costs and debt obligations." />
                                            <span class="detail">Revenue minus cost of goods sold</span>
                                        </li>
                                        <li>
                                            <span class="count marketshare">
                                                <h:outputText value="#{reportView.simulation.msStart}">
                                                    <f:convertNumber type="percent" minFractionDigits="2" />
                                                </h:outputText>
                                            </span>
                                            <h:outputText id="marketshare" value="#{i18n['MS']}" styleClass="title" />
                                            <p:tooltip for="marketshare" position="top" style="width: 300px;" value="Market Share represents the percentage of an industry or market's total sales that is earned by a particular company over a specified time period. Market share is calculated by taking the company's sales over the period and dividing it by the total sales of the industry over the same period. This metric is used to give a general idea of the size of a company in relation to its market and its competitors." />
                                            <span class="detail">Portion of the market</span>
                                        </li>
                                        <!--                                        <li>
                                                                                    <span class="count score">
                                                                                        <h:outputText value="#{reportView.simulation.scoreStart}">
                                                                                            <f:convertNumber type="number" />
                                                                                        </h:outputText>
                                                                                    </span>
                                                                                    <span class="title">#{i18n['Score']}</span>
                                                                                    <span class="detail">#{i18n['Score']}</span>
                                                                                </li>-->
                                    </ul>
                                </h:panelGroup>

                                <ui:repeat var="response" value="#{reportView.getResponses(dashboardView.selectedUser)}" varStatus="varStatus" rendered="#{not empty reportView.getResponses(dashboardView.selectedUser)}">
                                    <h:panelGroup style="#{varStatus.last?'display: block;':'display: none;'}">
                                        <h:outputText value="#{reportView.calculateScore(response)}" style="display:none;" />

                                        <ul class="scoreboard">
                                            <li>
                                                <span class="count revenue">
                                                    <h:outputText value="#{reportView.sales}">
                                                        <f:convertNumber type="number" maxFractionDigits="0" />
                                                    </h:outputText>
                                                </span>
                                                <h:outputText id="revenue" value="#{i18n['Revenue']}" styleClass="title" />
                                                <p:tooltip for="revenue" position="top" style="width: 300px;" value="Turnover comprises sales of goods and services after deduction of discounts and sales taxes. It does not include sales between group companies. Discounts include rebates, price reductions and incentives given to customers, promotional couponing and trade communication costs. Turnover is recognised when the risks and rewards of the underlying products and services have been substantially transferred to the customer. Revenue from services is recognised as the services are performed. Interest revenue is recognised as interest accrues using the effective interest method." />
                                                <span class="detail">
                                                    <h:outputText value="#{reportView.usgChange}">
                                                        <f:convertNumber type="percent" minFractionDigits="2" />
                                                    </h:outputText>
                                                </span>
                                            </li>
                                            <li>
                                                <span class="count budget #{reportView.budget lt 0 ? 'error' : ''}">
                                                    <h:outputText value="#{reportView.budget}">
                                                        <f:convertNumber type="number" />
                                                    </h:outputText>
                                                </span>
                                                <h:outputText id="budget" value="#{i18n['Budget']}" styleClass="title" />
                                                <p:tooltip for="budget" position="top" style="width: 300px;" value="Budget is a quantitative expression of a plan for a defined period of time. It may include planned sales volumes and revenues, resource quantities, costs and expenses, assets, liabilities and cash flows." />
                                                <span class="detail">
                                                    <h:outputText value="#{reportView.budgetChange}">
                                                        <f:convertNumber type="number" />
                                                    </h:outputText>
                                                </span>
                                            </li>
                                            <li>
                                                <span class="count grossmargin">
                                                    <h:outputText value="#{reportView.gm}">
                                                        <f:convertNumber type="percent" minFractionDigits="2" />
                                                    </h:outputText>
                                                </span>
                                                <h:outputText id="grossmargin" value="#{i18n['GM']}" styleClass="title" />
                                                <p:tooltip for="grossmargin" position="top" style="width: 300px;" value="Gross Margin represents the percent of total sales revenue that the company retains after incurring the direct costs associated with producing the goods and services it sells. The higher the percentage, the more the company retains on each dollar of sales, to service its other costs and debt obligations." />
                                                <span class="detail">
                                                    <h:outputText value="#{reportView.gmChange}">
                                                        <f:convertNumber type="percent" minFractionDigits="2" />
                                                    </h:outputText>
                                                </span>
                                            </li>
                                            <li>
                                                <span class="count marketshare">
                                                    <h:outputText value="#{reportView.ms}">
                                                        <f:convertNumber type="percent" minFractionDigits="2" />
                                                    </h:outputText>
                                                </span>
                                                <h:outputText id="marketshare" value="#{i18n['MS']}" styleClass="title" />
                                                <p:tooltip for="marketshare" position="top" style="width: 300px;" value="Market Share represents the percentage of an industry or market's total sales that is earned by a particular company over a specified time period. Market share is calculated by taking the company's sales over the period and dividing it by the total sales of the industry over the same period. This metric is used to give a general idea of the size of a company in relation to its market and its competitors." />
                                                <span class="detail">
                                                    <h:outputText value="#{reportView.msChange}">
                                                        <f:convertNumber type="percent" minFractionDigits="2" />
                                                    </h:outputText>
                                                </span>
                                            </li>
                                            <!--                                            <li>
                                                                                            <span class="count score">
                                                                                                <h:outputText value="#{reportView.score}">
                                                                                                    <f:convertNumber type="number" />
                                                                                                </h:outputText>
                                                                                            </span>
                                                                                            <span class="title">#{i18n['Score']}</span>
                                                                                            <span class="detail">
                                                                                                <h:outputText value="#{reportView.scoreChange}">
                                                                                                    <f:convertNumber type="number" />
                                                                                                </h:outputText>
                                                                                            </span>
                                                                                        </li>-->
                                        </ul>
                                    </h:panelGroup>
                                </ui:repeat>
                                <!--                                <f:facet name="footer">
                                                                    <h:panelGroup layout="block" style="text-align: center;">
                                                                        <p:commandButton value="#{i18n['Next']}" action="#{simulationView.goNext}" disabled="#{simulationView.nextRecord.kind eq 'NOTIFICATION' or !simulationView.disabled}" iconPos="right" icon="fa fa-chevron-right" />
                                                                    </h:panelGroup>
                                                                    <h:panelGroup layout="block" style="text-align: center;" rendered="false">
                                                                        <h:outputFormat value="{0} of {1}" style="font-style: italic; font-size: smaller;">
                                                                            <f:param value="#{simulationView.sequence+1}" />
                                                                            <f:param value="#{simulationView.menuModelByQuestions.elements.size()}" />
                                                                        </h:outputFormat>
                                                                    </h:panelGroup>
                                                                </f:facet>-->
                            </p:panel>
                        </h:form>
                        <p:sticky target="panel" margin="90" />
                    </h:panelGroup>
                </div>
            </div>

        </div>

        <h:form>
            <p:dialog widgetVar="guideDialog" header="#{simulationView.selectedRecord.guide.name}" resizable="false" visible="#{not empty simulationView.selectedRecord.guide and simulationView.selectedRecord eq simulationView.selectedRecord.group.question and !simulationView.disabled}" modal="true" closable="false" draggable="false">
                <h2><h:outputText value="#{simulationView.selectedRecord.guide.description}" escape="false" /></h2>
                <p><h:outputText value="#{simulationView.selectedRecord.guide.remark}" escape="false" /></p>
                <p>
                    <o:graphicImage value="#{simulationView.selectedRecord.guide.bytes}" dataURI="true" width="700" alt="#{simulationView.selectedRecord.guide.name}" title="#{simulationView.selectedRecord.guide.name}" rendered="#{false and not empty simulationView.selectedRecord.guide.bytes}"/>
                </p>
                <f:facet name="footer">
                    <p:commandButton value="#{i18n['I read']}" onclick="PF('guideDialog').hide();"/>
                    <p:button value="#{i18n['Go to Sales Fundamentals']}" outcome="/player/guide" fragment="fragment_#{simulationView.selectedRecord.guide.id}" target="_blank" styleClass="gray-button" />
                </f:facet>
            </p:dialog>
        </h:form>

        <h:form rendered="#{simulationView.nextRecord.kind eq 'NOTIFICATION' and simulationView.disabled}">
            <p:dialog widgetVar="notificationDialog" header="#{simulationView.nextRecord.notificationHeader}" resizable="false" visible="true" modal="true" closable="false" draggable="false">
                <p><h:outputText value="#{simulationView.nextRecord.notificationMessage}" /></p>
                <f:facet name="footer">
                    <p:commandButton value="#{i18n['Go to notification']}" action="#{simulationView.goNext}" disabled="#{!simulationView.disabled}" />
                </f:facet>
            </p:dialog>
        </h:form>

    </ui:define>
</ui:composition>