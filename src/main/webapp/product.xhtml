<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:of="http://omnifaces.org/functions"
                template="/template.xhtml">
    <ui:define name="title">#{productController.selectedRecord.name}</ui:define>
    <ui:define name="head">
        <h:outputStylesheet name="fotorama/fotorama.css"/>
        <h:outputScript name="fotorama/fotorama.js"/>
    </ui:define>
    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="id" value="#{productController.id}"/>
            <f:viewParam name="slug" value="#{productController.slug}"/>
            <f:event type="preRenderView" listener="#{productController.onLoad}"/>
        </f:metadata>

        <div class="ui-g">
            <div class="ui-g-5">
                <div class="fotorama" data-nav="thumbs">
                    <ui:repeat value="#{productController.selectedRecord.images}" var="image" varStatus="varStatus">
                        <o:graphicImage value="#{image.bytes}" dataURI="true" alt="#{image.product.name}" title="#{image.product.name}" rendered="#{not empty image.bytes}"/>
                    </ui:repeat>
                </div>
            </div>
            <div class="ui-g-7">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <p class="text-right"><abbr title="#{i18n['Product Code']}" class="glyphicon glyphicon-barcode"></abbr> #{productController.selectedRecord.code}</p>
                        <h4>#{productController.selectedRecord.name}</h4>

                        <h3 class="text-primary">
                            <h:outputText value="#{of:formatCurrency(productController.getProductPriceExchanged(productController.selectedRecord), currencyBean.currency)}"/>
                            <small><h:outputText value="#{i18n['Price']}"/></small>
                        </h3>

                        <p>#{i18n['Brand']}: </p>

                        <hr/>
                        <h:form>
                            <p:commandLink value="#{i18n['Add to shopping basket']}" actionListener="#{productController.addBasketitem}" update=":growl"/>
                            <p:commandLink value="#{i18n['Add to wish list']}" actionListener="#{productController.addWishlistitem}" update=":growl"/>
                        </h:form>
                        <hr/>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>